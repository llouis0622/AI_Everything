# 1. 네트워크 개요

## 1. 네트워크 기본 구조

### 개요

- 노드(네트워크 기기)와 간선(유무선 통신 매체)으로 이루어짐 → 그래프 형태
- 네트워크 토폴로지 : 네트워크 상에서의 노드와 노드 사이 연결 구조
- 망형, 트리형, 링형, 성형, 버스형
- 호스트 : 네트워크의 가장자리에 위치, 네트워크를 통해 주고받는 정보를 최초로 송신하고 최종 수신하는 노드
    - 클라이언트 : 요청을 보내는 호스트
    - 서버 : 응답을 보내는 호스트
- 중간 노드 : 가장자리에 위치한 호스트가 주고받는 정보를 원하는 수신지까지 안정적으로 전송하는 역할

### LAN과 WAN

- LAN : 비교적 가까운 거리를 연결하는 한정된 공간에서의 네트워크
- WAN : LAN 간 통신, ISP(구축 및 관리)

### 패킷 교환 네트워크

- 패킷 : 네트워크를 통해 송수신되는 데이터의 단위
- 하나의 패킷은 페이로드와 헤더로 구성, 트레일러 포함 가능
    - 페이로드 : 패킷에서 송수신하고자 하는 데이터
    - 헤더, 트레일러 : 패킷에 추가되는 부가 정보

### 주소의 개념과 전송 방식

- 주소 : 패킷의 헤더에 명시되는 정보
- 유니캐스트 : 송신지와 수신지가 일대일로 메시지를 주고받는 방식
- 브로드캐스트 : 네트워크상의 모든 호스트에게 메시지를 전송하는 방식
- 브로드캐스트 도메인 : 브로드캐스트가 전송되는 범위
- 멀티캐스트 : 네트워크 내의 동일 그룹에 속한 호스트에만 전송하는 방식
- 애니캐스트 : 네트워크 내의 동일 그룹에 속한 호스트 중 가장 가까운 호스트에게 전송하는 방식

## 2. 두 호스트가 패킷을 주고받는 과정

### 프로토콜

- 네트워크에서 통신을 주고받는 노드 간의 합의된 규칙이나 방법
- 패킷을 주고 받는 호스트와 네트워크 장비가 동일한 프로토콜로 통신해야 함

### 네트워크 참조 모델

- 통신이 이루어지는 단계를 계층적으로 표현한 것
- 패킷 송신하는 쪽 → 상위 계층에서 하위 계층으로 정보 전달
- 패킷 수신하는 쪽 → 하위 계층에서 상위 계층으로 정보 획득

### OSI 모델

- 통신 단계를 7개의 계층으로 나눈 것
- 네트워크의 이론적 기술을 목적으로 사용
- 물리 계층
    - 가장 최하위 계층
    - 비트 신호를 주고받음
    - 유무선 통신 매체를 통해 운반
- 데이터 링크 계층
    - 같은 LAN에 속한 호스트끼리 올바르게 정보를 주고받기 위한 계층
    - 같은 네트워크에 속한 호스트를 식별할 수 있는 주소 사용
    - 물리 계층을 통해 주고받는 정보에 오류가 없는지 확인
- 네트워크 계층
    - 네트워크 간 통신을 가능하게 하는 게층
    - 다른 네트워크와의 통신을 주고받기 위해 필요한 계층
    - 통신 과정에서 호스트를 식별할 수 있는 주소 필요(IP)
- 전송 계층
    - 신뢰성 있는 전송을 가능하게 하는 계층
    - 특정 응용 프로그램과의 연결 다리 역할 수행
    - TCP, UDP
- 세션 계층
    - 응용 프로그램 간의 연결 상태(세션)를 관리하기 위한 계층
    - 응옹 프로그램 간 연결 상태 유지 및 생성, 연결 종료
- 표현 계층
    - 인코딩, 압축, 암호화 등의 작업 수행
- 응용 계층
    - 여러 네트워크 서비스를 제공하는 계층
    - 중요한 프로토콜 다수 포함(HTTP, HTTPS, DNS 등)

### TCP/IP 모델

- 네트워크를 4계층으로 분리
- 구현과 프로토콜에 중점을 둔 네트워크 참조 모델
- 네트워크 액세스 계층(링크 계층, 네트워크 인터페이스 계층)
    - OSI 모델의 데이터 링크 계층과 유사
- 인터넷 계층
    - OSI 모델의 네트워크 계층과 유사
- 전송 계층
    - OSI 모델의 전송 계층과 유사
- 응용 계층
    - OSI 모델의 세션 계층, 표현 계층, 응용 계층과 유사

### 캡슐화와 역캡슐화

- 캡슐화 : 송신 과정에서 헤더를 추가해 나가는 과정
- 역캡슐화 : 캡슐화 과정에서 붙인 헤더를 각 계층에서 확인한 뒤 제거하는 과정
- 각 계층에서 주고받는 패킷을 지칭하는 이름이 다름
- 물리 계층 : 심볼, 비트
- 데이터 링크 계층 : 프레임
- 네트워크 계층 : 패킷, 데이터그램
- 전송 계층 : 세그먼트(TCP), 데이터그램(UDP)
- 그 이상의 계층 : 데이터, 메시지

# 2. 물리 계층과 데이터 링크 계층

## 1. 이더넷

### 이더넷 표준

- 통신 매체를 통해 신호를 송수신하는 방법, 데이터 링크 계층에서 주고받는 데이터 형식 등이 정의된 기술
- IEEE 802.3 : 이더넷과 관련된 다양한 표준들의 모음
- 대다수의 LAN 장비들이 특정 이더넷 표준을 따름
- 이더넷 표준이 달라지면 통신 매체의 종류를 비롯한 신호 송수신 방법, 최대 지원 속도가 달라짐

### 이더넷 프레임

- 이더넷 기반의 네트워크에서 주고받는 프레임
- LAN은 대부분 이더넷을 기반으로 구현 → 프레임이 이더넷 프레임을 지칭
- 프리앰블
    - 송수신지 동기화를 위해 사용되는 8바이트(64비트) 크기의 정보
    - 첫 7바이트 10101010, 마지막 바이트 10101011 값
    - 이더넷 프레임 수신 확인 가능
- 송수신지 MAC 주소
    - 프레임에서 가장 중요한 정보
    - 송신지와 수신지를 특정할 수 있는 6바이트(48비트) 길이의 MAC 주소
    - 콜론(:)으로 구분된 12자리 16진수
    - 물리적 주소, 네트워크 인터페이스마다 하나씩 부여되는 주소
    - NIC 장치가 네트워크 인터페이스 담당
- 타입/길이
    - 필드에 명시된 크기가 1500 이하(16진수 05DC)일 때 프레임의 크기
    - 필드에 명시된 크기가 1536 이상(16진수 0600)일 때 프레임의 타입
    - 타입을 통해 어떤 상위 계층 프로토콜이 캡슐화되었는지 확인 가능
    - IP일 때 타입은 16진수 0800, ARP일 때 타입은 16진수 0806
- 데이터
    - 페이로드, 상위 계층으로 전달하거나 전달받을 데이터 명시
    - 데이터 필드에 포함될 수 있는 데이터의 최대 크기(1500바이트 이하)가 정해져 있음
    - 이더넷 프레임으로 전송 가능한 최대 데이터의 크기, 네트워크 계층 패킷의 최대 크기 → 1500 바이트
- FCS
    - 트레일러, 프레임의 오류가 있는지의 여부를 확인하기 위한 필드
    - CRC : 오류 검출용 값 명시
    - 송신지에서 전송할 데이터와 전송할 데이터에 대한 CRC 값 계산 후 전송
    - 수신지에서 전달받은 데이터에 대한 CRC 값을 계산 후 전달받은 CRC 값과 대조

## 2. 유무선 통신 매체

### 유선 매체 - 트위스티드 페어 케이블

- 구리선을 통해 전기적으로 신호를 주고받는 통신 매체
- 두 가닥씩 꼬아져 있는 형태
- 카테고리 : 트위스티드 페어 케이블의 성능을 구분하는 일종의 등급 역할
- 구리선을 통해 전기적인 신호를 주고받음 → 전기 신호에 왜곡을 줄 수 있는 주변 잡음(노이즈)에 취약
- 그물 모양의 철사나 포일로 감싸 노이즈 방지
- 차폐 : 구리선 주변을 보호해 노이즈를 감소시키는 방식
    - 브레이드 실드 : 그물 모양의 철사
    - 포일 실드 : 그물 모양의 포일
- STP : 브레이드 실드로 노이즈를 감소시킨 케이블
- FTP : 포일 실드로 노이즈를 감소시킨 케이블
- UTP : 아무것도 감싸지 않아 구리선만 있는 케이블
- S/FTP, F/FTP, SF/FTP, U/UTP

### 무선 매체 - 전파와 WiFi

- 전파 : 약 3kHz부터 3THz 사이의 진동수를 갖는 전자기파
- 2.4GHz, 5GHz → 와이파이를 사용할 때 주로 활용
- 와이파이 : 무선 LAN에서 가장 대충적으로 사용되는 기술
- 전파 통신을 주고받을 때 주파수 대역이 겹치면 신호의 간섭 발생 가능
- 채널 : 같은 대역을 사용하는 서로 다른 무선 네트워크를 구분하기 위해 사용

## 3. 네트워크 인터페이스 : NIC

- 네트워크 인터페이스 : 네트워크 상에서 노드와 통신 매체와 연결되는 지점
- NIC : 네트워크 인터페이스 역할을 담당하는 하드웨어
- 통신 매체의 신호를 호스트가 이해하는 프레임으로 변환하거나 호스트가 이해하는 프레임을 통신 매체의 신호로 변환하는 역할
- NIC의 지원 속도가 네트워크 속도에 영향을 미침
- 티밍(윈도우), 본딩(리눅스) : 여러 물리적인 NIC를 하나의 고속 NIC처럼 구성하는 방식

## 4. 허브와 스위치

### 물리 계층의 허브

- 허브 : 물리 계층의 대표적인 네트워크 장비, 여러 대의 호스트를 연결하는 장치
- 리피터 허브, 이더넷 허브(이너뎃 네트워크 허브)
- 포트 : 허브에서 케이블의 커넥터가 꽂히는 부분, 통신 매체를 연결하는 지점
- 전달받은 신호를 모든 포트로 내보냄
- 반이중 모드로 통신 : 송신 또는 수신을 번갈아 가면서 수행해야 하는 통신 방식, 동시 송수신 불가능
- 충돌 : 허브를 향해 동시에 메시지를 보내는 것
- 콜리전 도메인 : 충돌이 발생할 수 있는 영역

### 데이터 링크 계층의 스위치

- 스위치 : 허브의 한계를 보완하기 위한 네트워크 장비
- 전달받은 신호를 목적지 호스트가 연결된 포트로만 내보냄
- 전이중 모드 지원 : 동시 송수신이 가능한 상태
- MAC 주소 학습 기능 : 전달받은 신호를 원하는 포트에만 내보낼 수 있음
- MAC 주소 테이블 : 프레임 속 MAC 주소를 토대로 현재 어떤 포트에 어떤 MAC 주소를 가진 호스트가 연결되어 있는지 파악, 포트, 연결된 호스트의 MAC 주소의 대응 관계를 테이블의 형태로 메모리에 저장
- VLAN : 가상 LAN, 같은 스위치에 연결된 모든 호스트를 하나의 네트워크로 간주하고 싶지 않을 때, 여러 논리적인 네트워크로 나누고 싶을 때 사용