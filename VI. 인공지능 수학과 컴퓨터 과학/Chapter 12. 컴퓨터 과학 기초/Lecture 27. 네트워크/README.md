# 1. 네트워크 개요

## 1. 네트워크 기본 구조

### 개요

- 노드(네트워크 기기)와 간선(유무선 통신 매체)으로 이루어짐 → 그래프 형태
- 네트워크 토폴로지 : 네트워크 상에서의 노드와 노드 사이 연결 구조
- 망형, 트리형, 링형, 성형, 버스형
- 호스트 : 네트워크의 가장자리에 위치, 네트워크를 통해 주고받는 정보를 최초로 송신하고 최종 수신하는 노드
    - 클라이언트 : 요청을 보내는 호스트
    - 서버 : 응답을 보내는 호스트
- 중간 노드 : 가장자리에 위치한 호스트가 주고받는 정보를 원하는 수신지까지 안정적으로 전송하는 역할

### LAN과 WAN

- LAN : 비교적 가까운 거리를 연결하는 한정된 공간에서의 네트워크
- WAN : LAN 간 통신, ISP(구축 및 관리)

### 패킷 교환 네트워크

- 패킷 : 네트워크를 통해 송수신되는 데이터의 단위
- 하나의 패킷은 페이로드와 헤더로 구성, 트레일러 포함 가능
    - 페이로드 : 패킷에서 송수신하고자 하는 데이터
    - 헤더, 트레일러 : 패킷에 추가되는 부가 정보

### 주소의 개념과 전송 방식

- 주소 : 패킷의 헤더에 명시되는 정보
- 유니캐스트 : 송신지와 수신지가 일대일로 메시지를 주고받는 방식
- 브로드캐스트 : 네트워크상의 모든 호스트에게 메시지를 전송하는 방식
- 브로드캐스트 도메인 : 브로드캐스트가 전송되는 범위
- 멀티캐스트 : 네트워크 내의 동일 그룹에 속한 호스트에만 전송하는 방식
- 애니캐스트 : 네트워크 내의 동일 그룹에 속한 호스트 중 가장 가까운 호스트에게 전송하는 방식

## 2. 두 호스트가 패킷을 주고받는 과정

### 프로토콜

- 네트워크에서 통신을 주고받는 노드 간의 합의된 규칙이나 방법
- 패킷을 주고 받는 호스트와 네트워크 장비가 동일한 프로토콜로 통신해야 함

### 네트워크 참조 모델

- 통신이 이루어지는 단계를 계층적으로 표현한 것
- 패킷 송신하는 쪽 → 상위 계층에서 하위 계층으로 정보 전달
- 패킷 수신하는 쪽 → 하위 계층에서 상위 계층으로 정보 획득

### OSI 모델

- 통신 단계를 7개의 계층으로 나눈 것
- 네트워크의 이론적 기술을 목적으로 사용
- 물리 계층
    - 가장 최하위 계층
    - 비트 신호를 주고받음
    - 유무선 통신 매체를 통해 운반
- 데이터 링크 계층
    - 같은 LAN에 속한 호스트끼리 올바르게 정보를 주고받기 위한 계층
    - 같은 네트워크에 속한 호스트를 식별할 수 있는 주소 사용
    - 물리 계층을 통해 주고받는 정보에 오류가 없는지 확인
- 네트워크 계층
    - 네트워크 간 통신을 가능하게 하는 게층
    - 다른 네트워크와의 통신을 주고받기 위해 필요한 계층
    - 통신 과정에서 호스트를 식별할 수 있는 주소 필요(IP)
- 전송 계층
    - 신뢰성 있는 전송을 가능하게 하는 계층
    - 특정 응용 프로그램과의 연결 다리 역할 수행
    - TCP, UDP
- 세션 계층
    - 응용 프로그램 간의 연결 상태(세션)를 관리하기 위한 계층
    - 응옹 프로그램 간 연결 상태 유지 및 생성, 연결 종료
- 표현 계층
    - 인코딩, 압축, 암호화 등의 작업 수행
- 응용 계층
    - 여러 네트워크 서비스를 제공하는 계층
    - 중요한 프로토콜 다수 포함(HTTP, HTTPS, DNS 등)

### TCP/IP 모델

- 네트워크를 4계층으로 분리
- 구현과 프로토콜에 중점을 둔 네트워크 참조 모델
- 네트워크 액세스 계층(링크 계층, 네트워크 인터페이스 계층)
    - OSI 모델의 데이터 링크 계층과 유사
- 인터넷 계층
    - OSI 모델의 네트워크 계층과 유사
- 전송 계층
    - OSI 모델의 전송 계층과 유사
- 응용 계층
    - OSI 모델의 세션 계층, 표현 계층, 응용 계층과 유사

### 캡슐화와 역캡슐화

- 캡슐화 : 송신 과정에서 헤더를 추가해 나가는 과정
- 역캡슐화 : 캡슐화 과정에서 붙인 헤더를 각 계층에서 확인한 뒤 제거하는 과정
- 각 계층에서 주고받는 패킷을 지칭하는 이름이 다름
- 물리 계층 : 심볼, 비트
- 데이터 링크 계층 : 프레임
- 네트워크 계층 : 패킷, 데이터그램
- 전송 계층 : 세그먼트(TCP), 데이터그램(UDP)
- 그 이상의 계층 : 데이터, 메시지

# 2. 물리 계층과 데이터 링크 계층

## 1. 이더넷

### 이더넷 표준

- 통신 매체를 통해 신호를 송수신하는 방법, 데이터 링크 계층에서 주고받는 데이터 형식 등이 정의된 기술
- IEEE 802.3 : 이더넷과 관련된 다양한 표준들의 모음
- 대다수의 LAN 장비들이 특정 이더넷 표준을 따름
- 이더넷 표준이 달라지면 통신 매체의 종류를 비롯한 신호 송수신 방법, 최대 지원 속도가 달라짐

### 이더넷 프레임

- 이더넷 기반의 네트워크에서 주고받는 프레임
- LAN은 대부분 이더넷을 기반으로 구현 → 프레임이 이더넷 프레임을 지칭
- 프리앰블
    - 송수신지 동기화를 위해 사용되는 8바이트(64비트) 크기의 정보
    - 첫 7바이트 10101010, 마지막 바이트 10101011 값
    - 이더넷 프레임 수신 확인 가능
- 송수신지 MAC 주소
    - 프레임에서 가장 중요한 정보
    - 송신지와 수신지를 특정할 수 있는 6바이트(48비트) 길이의 MAC 주소
    - 콜론(:)으로 구분된 12자리 16진수
    - 물리적 주소, 네트워크 인터페이스마다 하나씩 부여되는 주소
    - NIC 장치가 네트워크 인터페이스 담당
- 타입/길이
    - 필드에 명시된 크기가 1500 이하(16진수 05DC)일 때 프레임의 크기
    - 필드에 명시된 크기가 1536 이상(16진수 0600)일 때 프레임의 타입
    - 타입을 통해 어떤 상위 계층 프로토콜이 캡슐화되었는지 확인 가능
    - IP일 때 타입은 16진수 0800, ARP일 때 타입은 16진수 0806
- 데이터
    - 페이로드, 상위 계층으로 전달하거나 전달받을 데이터 명시
    - 데이터 필드에 포함될 수 있는 데이터의 최대 크기(1500바이트 이하)가 정해져 있음
    - 이더넷 프레임으로 전송 가능한 최대 데이터의 크기, 네트워크 계층 패킷의 최대 크기 → 1500 바이트
- FCS
    - 트레일러, 프레임의 오류가 있는지의 여부를 확인하기 위한 필드
    - CRC : 오류 검출용 값 명시
    - 송신지에서 전송할 데이터와 전송할 데이터에 대한 CRC 값 계산 후 전송
    - 수신지에서 전달받은 데이터에 대한 CRC 값을 계산 후 전달받은 CRC 값과 대조

## 2. 유무선 통신 매체

### 유선 매체 - 트위스티드 페어 케이블

- 구리선을 통해 전기적으로 신호를 주고받는 통신 매체
- 두 가닥씩 꼬아져 있는 형태
- 카테고리 : 트위스티드 페어 케이블의 성능을 구분하는 일종의 등급 역할
- 구리선을 통해 전기적인 신호를 주고받음 → 전기 신호에 왜곡을 줄 수 있는 주변 잡음(노이즈)에 취약
- 그물 모양의 철사나 포일로 감싸 노이즈 방지
- 차폐 : 구리선 주변을 보호해 노이즈를 감소시키는 방식
    - 브레이드 실드 : 그물 모양의 철사
    - 포일 실드 : 그물 모양의 포일
- STP : 브레이드 실드로 노이즈를 감소시킨 케이블
- FTP : 포일 실드로 노이즈를 감소시킨 케이블
- UTP : 아무것도 감싸지 않아 구리선만 있는 케이블
- S/FTP, F/FTP, SF/FTP, U/UTP

### 무선 매체 - 전파와 WiFi

- 전파 : 약 3kHz부터 3THz 사이의 진동수를 갖는 전자기파
- 2.4GHz, 5GHz → 와이파이를 사용할 때 주로 활용
- 와이파이 : 무선 LAN에서 가장 대충적으로 사용되는 기술
- 전파 통신을 주고받을 때 주파수 대역이 겹치면 신호의 간섭 발생 가능
- 채널 : 같은 대역을 사용하는 서로 다른 무선 네트워크를 구분하기 위해 사용

## 3. 네트워크 인터페이스 : NIC

- 네트워크 인터페이스 : 네트워크 상에서 노드와 통신 매체와 연결되는 지점
- NIC : 네트워크 인터페이스 역할을 담당하는 하드웨어
- 통신 매체의 신호를 호스트가 이해하는 프레임으로 변환하거나 호스트가 이해하는 프레임을 통신 매체의 신호로 변환하는 역할
- NIC의 지원 속도가 네트워크 속도에 영향을 미침
- 티밍(윈도우), 본딩(리눅스) : 여러 물리적인 NIC를 하나의 고속 NIC처럼 구성하는 방식

## 4. 허브와 스위치

### 물리 계층의 허브

- 허브 : 물리 계층의 대표적인 네트워크 장비, 여러 대의 호스트를 연결하는 장치
- 리피터 허브, 이더넷 허브(이너뎃 네트워크 허브)
- 포트 : 허브에서 케이블의 커넥터가 꽂히는 부분, 통신 매체를 연결하는 지점
- 전달받은 신호를 모든 포트로 내보냄
- 반이중 모드로 통신 : 송신 또는 수신을 번갈아 가면서 수행해야 하는 통신 방식, 동시 송수신 불가능
- 충돌 : 허브를 향해 동시에 메시지를 보내는 것
- 콜리전 도메인 : 충돌이 발생할 수 있는 영역

### 데이터 링크 계층의 스위치

- 스위치 : 허브의 한계를 보완하기 위한 네트워크 장비
- 전달받은 신호를 목적지 호스트가 연결된 포트로만 내보냄
- 전이중 모드 지원 : 동시 송수신이 가능한 상태
- MAC 주소 학습 기능 : 전달받은 신호를 원하는 포트에만 내보낼 수 있음
- MAC 주소 테이블 : 프레임 속 MAC 주소를 토대로 현재 어떤 포트에 어떤 MAC 주소를 가진 호스트가 연결되어 있는지 파악, 포트, 연결된 호스트의 MAC 주소의 대응 관계를 테이블의 형태로 메모리에 저장
- VLAN : 가상 LAN, 같은 스위치에 연결된 모든 호스트를 하나의 네트워크로 간주하고 싶지 않을 때, 여러 논리적인 네트워크로 나누고 싶을 때 사용

# 3. 네트워크 계층 - IP

## 1. IP의 목적과 특징

### 개요

- IP : 네트워크 계층의 가장 핵심적인 프로토콜
- 주소 지정 : 네트워크 간의 통신 과정에서 호스트를 특정하는 것
- 단편화 : 데이터를 여러 IP 패킷으로 올바르게 쪼개어 보내는 것
- 신뢰할 수 없는 통신, 비연결형 통신

### 주소 지정과 단편화

- IP 주소를 통해 주소 지정, IP 패킷 헤더를 통해 확인 가능
- 송신지 IP 주소, 수신지 IP 주소 : 송수신지를 식별할 수 있는 IP 주소 명시
- 하나의 IP 주소 4바이트(32비트) 크기로 구성, 숫자당 8비트 표현(0~255 범위 10진수 4개)
- 각각의 10진수 점(.)으로 구분, 구분된 하나의 10진수는 옥텟
- 라우터 : 네트워크 계층에 속한 핵심 장비, 전달받은 패킷을 목적지까지 전달하는 역할 수행
- 라우팅 : IP 패킷을 전달할 최적의 경로를 결정하고 해당 경로로 패킷을 내보내는 것
- MTU : 최대 전송 단위, 1500바이트
- 전송하고자 하는 IP 패킷의 크기가 MTU보다 클 경우 패킷을 MTU 이하의 여러 패킷으로 쪼개서 전송 후 수신지에서 재조합
- 단편화와 관련된 필드
    - 식별자 : 특정 패킷이 어떤 데이터에서 쪼개진 패킷인지를 식별하기 위해 사용되는 필드
    - 플래그 : 3비트로 구성된 필드, 첫 번째 비트(항상 0), DF(IP 단편화 수행 금지), MF(단편화된 패킷이 더 있음)로 구성
    - 단편화 오프셋 : 특정 패킷이 초기 데이터에서 얼마나 떨어져 있는지가 명시된 필드, 패킷의 순서 확인

### 신뢰할 수 없는 통신과 비연결형 통신

- 신뢰할 수 없는 프로토콜 : 패킷이 수신지까지 제대로 전송되었다고 보장하지 않는 프로토콜
- 최선형 전달, 신뢰할 수 없는 통신, 신뢰성이 낮은 통신 : 신뢰할 수 없는 프로토콜의 송수신
- 비연결형 프로토콜 : 패킷을 주고받기 전에 사전 연결 과정을 거치지 않는 것
- 상대 호스트의 수신 가능 여부는 고려하지 않고, 수신지를 향해 패킷을 전송하기만 함
- 경로 MTU : IP 단편화 없이 주고받을 수 있는 최대 크기
- 경로 MTU 발견 : 경로 MTU를 구하고 해당 크기만큼만 송수신하여 IP 단편화를 회피하는 기술

## 2. IP 주소의 구조

### 개요

- IP 주소 : 네트워크 주소(네트워크 ID, 네트워크 식별자) + 호스트 주소(호스트 ID, 호스트 식별자)
- 하나의 IP 주소에서 네트워크 주소를 표현하는 크기와 호스트를 표현하는 크기가 유동적임

### 클래스풀 주소 체계

- 클래스 : 네트워크 크기에 따라 유형별로 IP 주소를 분류하는 기준
- 클래스풀 주소 체계 : 클래스를 바탕으로 IP 주소를 관리하는 주소 체계, A, B, C, 멀티캐스트용 D, E
- 클래스 A : 0.0.0.0 ~ 127.255.255.255
- 클래스 B : 128.0.0.0 ~ 191.255.255.255
- 클래스 C : 192.0.0.0 ~ 223.255.255.255
- 호스트 주소가 전부 0인 IP 주소 : 해당 네트워크 자체를 의미하는 주소
- 호스트 주소가 전부 1인 IP 주소 : 브로드캐스트를 위한 주소
- 루프백 주소 : 자기 자신을 가리키는 특별한 주소, 로컬호스트(127.0.0.1)

### 클래스리스 주소 체계와 서브넷 마스크

- 클래스리스 주소 체계 : 클래스를 이용하지 않고 네트워크와 호스트를 구분하는 방식
- 서브넷 마스크 : IP 주소상에서 네트워크 주소를 1로 표기하고, 호스트 주소를 0으로 표기한 비트열
- 서브넷(서브네트워크) : IP 주소에서 네트워크 주소로 구분할 수 있는 네트워크의 부분집합
- 서브네팅 : 서브넷 마스크를 이용해 원하는 크기로 클래스를 더 잘게 쪼개어 사용하는 것
- 서브넷 마스크와 IP 주소 간 비트 AND 연산 수행 시 IP 주소 내 네트워크 주소 확인 가능
- CIDR 표기 : IP 주소/서브넷 마스크상 1의 개수

## 3. 공인 IP 주소와 사설 IP 주소

- 공인 IP 주소 : 전 세계에서 고유한 IP 주소, 네트워크 간 통신에서 사용되는 IP 주소
- 사설 IP 주소 : 사설 네트워크에서 사용하기 위한 IP 주소

## 4. IP 주소의 할당

### 정적 할당

- 직접 수작업으로 IP 주소를 부여하는 방식
- 정적 IP 주소 : 정적 할당을 통해 할당된 IP 주소
- IP 주소, 서브넷 마스크, 게이트웨이 주소, DNS 주소 등 입력 필요
- 게이트웨이 : 서로 다른 네트워크를 연결하는 하드웨어적/소프트웨어적 수단
- 기본 게이트웨이 : 호스트가 속한 네트워크의 외부로 나가기 위한 첫 기본 경로
- DNS 주소 : 호스트가 도메인 네임을 토대로 IP 주소를 알아내기 위해 질의하는 서버 주소

### 동적 할당

- 프로토콜을 통해 자동으로 IP 주소를 부여하는 방식
- 동적 IP 주소 : 동적 할당을 통해 할당된 IP 주소
- DHCP : 동적 할당을 위해 사용되는 프로토콜
- DHCP 서버 : 호스트에 할당 가능한 IP 주소 목록을 관리하다가 IP 주소 할당 요청을 받았을 때 IP 주소를 할당해주는 호스트
- 동적 IP 주소에는 사용 가능한 기간이 정해져 있음
- 동적 IP 주소는 할당받을 때마다 다른 주소를 받을 수 있음
- 임대 갱신 : IP 주소의 임대 기간이 끝나기 전에 임대 기간을 연장하는 것

## 5. IP 전송 특징의 보완 : ICMP

- IP의 신뢰할 수 없는 비연결형 통신 특징을 보완해야 할 때 존재
- 신뢰할 수 있는 연결형 통신을 지원하는 상위 계층 프로토콜 이용
- 네트워크 계층의 프로토콜로 ICMP 이용
- ICMP : IP 패킷의 전송 과정에 대한 피드백 메시지를 얻기 위해 사용하는 프로토콜
- ICMP 메시지 : 패킷이 상대방에게 어떻게 전송되었는지 알려줄 수 있음
- 오류 보고
    - 네트워크 도달 불가
    - 호스트 도달 불가
    - 프로토콜 도달 불가, 수신지에서 특정 프로토콜을 사용할 수 없음
    - 포트 도달 불가
    - 단편화가 필요하지만 DF가 1로 설정되어 단편화할 수 없음
    - TTL(패킷의 수명) 만료
- 네트워크 상의 정보 제공
    - Echo 요청
    - Echo 응답

## 6. IP 주소와 MAC 주소의 대응 : ARP

- ARP : IP 주소와 MAC 주소를 함께 활용하는 통신 과정에서 동일 네트워크 내에 있는 송수신 대상의 IP 주소를 통해 MAC 주소를 알아내는 프로토콜
- ARP 요청 메시지와 ARP 응답 메시지로 IP 주소를 통해 모르는 MAC 주소를 알아냄
- ARP 요청 메시지
    - 브로드캐스트 메시지
    - 알고 싶은 MAC 주소에 대응되는 IP 주소 포함
    - 호스트는 자신의 IP 주소일 경우 ARP 응답 메시지 전송
- ARP 응답 메시지
    - 응답 메시지를 보내는 호스트의 MAC 주소 포함
- ARP 테이블 : <IP 주소, MAC 주소>의 항목들로 구성된 표 형태의 정보

# 4. 전송 계층 - TCP와 UDP

## 1. TCP와 UDP의 목적과 특징

### 포트를 통한 프로세스 식별

- IP 주소와 MAC 주소는 패킷을 송수신하는 호스트 특정 가능
- 포트 번호를 통해 네트워크 상에서 호스트가 실행하는 프로세스 식별 가능
- IP 주소:포트 번호
- TCP, UDP 모두 포트를 통해 프로세스 식별 가능
- 잘 알려진 포트 : 0 ~ 1023
    - FTP : 20, 21
    - SSH : 22
    - TELNET : 23
    - DNS : 53
    - DHCP : 67, 68
    - HTTP : 80
    - HTTPS : 443
- 등록된 포트 : 1024 ~ 49151
    - OpenVPN : 1194
    - Microsoft SQL Server Database : 1433
    - MySQL Database : 3306
    - Redis : 6379
    - HTTP 대체 : 8080
- 동적 포트(사설 포트, 임시 포트) : 49152 ~ 65535
- NAT : 네트워크 내부에서 사설 IP 주소를 사용하는 호스트가 네트워크 외부에 있는 호스트와 패킷을 주고받기 위해 공인 IP 주소와 사설 IP 주소 간 변환하는 기술
- NAPT : IP 주소 변환 과정에서 변환할 IP 주소 쌍과 포트 번호도 함께 고려하는 기술

### (비)신뢰성과 (비)연결형 보장

- TCP
    - 신뢰할 수 있는 프로토콜, 연결형 프로토콜
    - 상태 관리, 흐름 제어, 오류 제어, 혼잡 제어 제공
    - 연결 수립 과정, 연결 종료
    - 순서 번호 필드 : TCP 패킷의 올바른 송수신 순서를 보장하기 위해 세그먼트 첫 바이트에 매겨진 번호
    - 응답 번호 필드 : 상대 호스트가 보낸 세그먼트에 대한 응답, 다음으로 수신하길 기대하는 순서 번호
    - 제어 비트(플래그 비트) : 현재 세그먼트에 대한 부가 정보 표현(8비트), ACK(세그먼트의 승인을 나타내기 위한 비트), SYN(연결을 수립하기 위한 비트), FIN(연결을 종료하기 위한 비트)
- UDP
    - 신뢰할 수 없는 프로토콜, 비연결형 프로토콜
    - 상태 관리, 흐름 제어, 오류 제어, 혼잡 제어 미제공
    - 연결 수립 과정, 연결 종료 없음
    - 송신지 포트 : 송신 프로세스가 할당된 포트 번호
    - 수신지 포트 : 수신 프로세스가 할당된 포트 번호
    - 길이 필드 : 헤더를 포함한 UDP 패킷의 바이트 크기 명시
    - 체크섬 필드 : 송수신 과정에서의 데이터그램 훼손 여부 확인 정보

## 2. TCP의 연결부터 종료까지

### TCP의 연결 수립

- 쓰리 웨이 핸드셰이크 : 세 단계로 이루어진 TCP 연결 수립 과정
- 액티브 오픈 : 처음 연결을 시작하는 과정
- 패시브 오픈 : 연결 요청을 수신한 뒤 그에 대한 연결을 수립하는 과정
- SYN 세그먼트 전송
    - SYN 비트가 1로 설정된 세그먼트 전송
    - 세그먼트 순서 번호에 송신 호스트 순서 번호 포함
- SYN + ACK 세그먼트 전송
    - 수신 호스트는 ACK 비트와 SYN 비트가 1로 설정된 세그먼트 송신 호스트에 전송
    - 세그먼트 순서 번호에 수신 호스트 순서 번호와 이전 세그먼트 확인 응답 번호 포함
- ACK 세그먼트 전송
    - 송신 호스트는 ACK 비트가 1로 설정된 세그트를 수신 호스트에 전송
    - 세그먼트 순서 번호에 송신 호스트 순서 번호와 이전 세그먼트 확인 응답 번호 포함

### TCP의 오류/흐름/혼잡 제어

- 재전송을 통한 오류 제어
    - 송수신 과정에서 잘못 전송된 세그먼트가 있을 경우 재전송하여 오류 제어
    - 중복된 ACK 세그먼트 도착 : 송신한 세그먼트의 일부가 전송 중 유실되어 중복으로 ACK 세그먼트를 수신하게 되는 상황
    - 타임아웃 발생 : 재전송 타이머의 카운트다운이 끝난 상황
- 흐름 제어
    - 수신 호스트가 한 번에 받아 처리할 수 있을 만큼만 전송하는 것
    - 송신 호스트가 수신 호스트의 처리 속도를 고려하며 송수신 속도를 균일하게 맞추는 기능
    - 수신 윈도우 : 수신 호스트가 한 번에 처리할 수 있는 크기 명시
- 혼잡 제어
    - 혼잡 : 많은 트래픽으로 인해 패킷의 처리 속도가 느려지거나 유실될 수 있는 상황
    - 송신 호스트가 주체적으로 얼마나 네트워크가 혼잡한지 판단 후 정도에 따라 세그먼트의 전송량을 조절
    - 혼잡 여부 판단 : 세그먼트 전송 오류 판단 기준과 동일
    - 혼잡 윈도우 : 혼잡 없이 전송할 수 있을 정도의 양
    - 혼잡 제어 알고리즘 : 혼잡 윈도우의 크기를 연산하는 방법, 혼잡 제어를 수행하는 일련의 과정
    - AIMD : 세그먼트를 보내고, 그에 대한 응답이 오기까지 혼잡이 감지되지 않으면 혼잡 윈도우를 RTT마다 1씩 선형적으로 증가, 혼잡이 감지되면 혼잡 윈도우를 절반으로 떨어뜨리는 동작을 반복하는 알고리즘

### TCP의 종료

- 포 웨이 핸드셰이크 : 4개의 단계를 거쳐 연결을 종료
- 액티브 클로즈 : 먼저 연결을 종료하려는 호스트에 의해 수행되는 동작
- 패시브 클로즈 : 연결 종료 요청을 받아들이는 호스트에 의해 수행되는 동작
- FIN 세그먼트
    - 송신 호스트가 FIN 비트가 1로 설정된 FIN 세그먼트를 수신 호스트에 전송
- ACK 세그먼트
    - 이전 세그먼트에 대한 수신 호스트의 응답
    - 수신 호스트는 ACK 세그먼트를 송신 호스트에 전송
- FIN 세그먼트
    - 수신 호스트는 FIN 세그먼트를 송신 호스트에 전송
- ACK 세그먼트
    - 이전 세그먼트에 대한 송신 호스트의 응답
    - 송신 호스트는 ACK 세그먼트를 수신 호스트에 전송

## 3. TCP의 상태 관리

- 스테이트풀 프로토콜 : 상태를 유지하고 관리하는 프로토콜
- 상태 : 현재 어떤 통신 과정에 있는지를 나타내는 정보
- 연결이 수립되지 않았을 때 주로 활용되는 상태
    - CLOSED : 아무런 연결이 없는 상태
    - LISTEN : 연결 대기 상태(SYN 세그먼트 대기 상태)
- 연결 수립 과정에서 주로 활용되는 상태
    - SYN-SENT : 액티브 오픈 호스트가 SYN 세그먼트를 보낸 뒤, 그에 대한 응답인 SYN + ACK 세그먼트를 기다리는 상태(연결 요청 전송)
    - SYN-RECEIVED : 패시브 오픈 호스트가 SYN + ACK 세그먼트를 보낸 뒤, 그에 대한 ACK 세그먼트를 기다리는 상태(연결 요청 수신)
    - ESTABLISHED : 쓰리 웨이 핸드셰이크가 끝난 뒤 데이터를 송수신할 수 있는 상태(연결 수립)
- 연결 종료 과정에서 주로 활용되는 상태
    - FIN-WAIT-1 : 액티브 클로즈 호스트가 FIN 세그먼트로 연결 종료 요청을 보낸 상태(연결 종료 요청 전송)
    - CLOSE-WAIT : FIN 세그먼트를 받은 패시브 클로즈 호스트가 그에 대한 응답으로 ACK 세그먼트를 보낸 후 대기하는 상태(연결 종료 요청 승인)
    - FIN-WAIT-2 : FIN-WAIT-1 상태에서 ACK 세그먼트를 받은 상태
    - LAST-ACK : CLOSE-WAIT 상태에서 FIN 세그먼트를 전송한 뒤 대기하는 상태
    - TIME-WAIT : 액티브 클로즈 호스트가 마지막 ACK 세그먼트를 전송한 뒤 접어드는 상태
